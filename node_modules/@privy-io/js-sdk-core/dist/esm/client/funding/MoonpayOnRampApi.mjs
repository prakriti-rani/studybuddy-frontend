import t from"fetch-retry";import{MoonpayOnRampSign as r}from"@privy-io/public-api";import{MoonpayApiError as a}from"../../Error.mjs";import{MoonpayEnvironments as i}from"../../funding/moonpay.mjs";import"../../chains/arbitrum.mjs";import"../../chains/avalanche.mjs";import"../../chains/base.mjs";import"../../chains/celo.mjs";import"../../chains/mainnet.mjs";import"../../chains/optimism.mjs";import"../../chains/polygon.mjs";let o=class{async sign(t){return await this._privyInternal.fetch(r,{body:t})}async getTransactionStatus({transactionId:r,useSandbox:o}){let{url:s,key:n}=i[o?"sandbox":"prod"],e=await t(fetch,{retries:3,retryDelay:500})(`${s}/transactions/ext/${r}?apiKey=${n}`);if(!e.ok)throw new a({error:`Failed to fetch transaction status for Transaction ${r}`,code:"failed_to_fetch_moonpay_transaction_status",response:e});let m=await e.json();return Array.isArray(m)?m.at(0):void 0}constructor(t){this._privyInternal=t}};export{o as default};
