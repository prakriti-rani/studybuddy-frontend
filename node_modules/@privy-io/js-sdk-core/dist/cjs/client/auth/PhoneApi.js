"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@privy-io/public-api"),s=require("./maybeCreateWalletOnLogin.js");require("../../utils/getUserEmbeddedEthereumWallet.js"),require("../../utils/getAllUserEmbeddedEthereumWallets.js"),require("../../utils/getUserEmbeddedSolanaWallet.js"),require("../../utils/getAllUserEmbeddedSolanaWallets.js"),require("../../utils/shouldCreateEmbeddedEthWallet.js"),require("../../utils/shouldCreateEmbeddedSolWallet.js");exports.default=class{async sendCode(s,r){return this._privyInternal.fetch(e.PasswordlessSmsInit,{body:{phoneNumber:s,token:r}})}async loginWithCode(r,t,n,i){let a=await this._privyInternal.fetch(e.PasswordlessSmsAuthenticate,{body:{phoneNumber:r,code:t,mode:n}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await s.maybeCreateWalletOnLogin(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async linkWithCode(s,r){return await this._privyInternal.fetch(e.PasswordlessSmsLink,{body:{phoneNumber:s,code:r}}),(await this._privyInternal.refreshSession()).user}async updatePhone({oldPhoneNumber:s,newPhoneNumber:r,code:t}){return await this._privyInternal.fetch(e.PasswordlessSmsUpdate,{body:{old_phone_number:s,new_phone_number:r,code:t}}),(await this._privyInternal.refreshSession()).user}async unlink(s){return await this._privyInternal.fetch(e.PasswordlessSmsUnlink,{body:{phoneNumber:s}}),(await this._privyInternal.refreshSession()).user}constructor(e,s){this._privyInternal=e,this._embedded=s}};
